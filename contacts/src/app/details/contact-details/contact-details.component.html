<form [formGroup]="contactDetails">
    <mat-card class="details-card" *ngIf="contact">
        <mat-card-header>
            <mat-card-title>{{
                contact.lastName
            }}</mat-card-title>
            <mat-card-subtitle>{{
                contact.firstName
            }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
            <img class="details-card-icon" [src]="icon" />
            <mat-list>
                <mat-list-item
                    >Phone number:
                    {{ contact.phoneNumber }}</mat-list-item
                >
                <button
                    (click)="updateBasicDetails()"
                    class="action-button"
                    mat-flat-button
                    color="primary"
                >
                    Update details
                </button>
                <mat-divider></mat-divider>

                <mat-list-item>Notes:</mat-list-item>
                <p
                    *ngFor="
                        let note of contact.notes;
                        index as i
                    "
                >
                    <button
                        mat-icon-button
                        (click)="deleteNote(i)"
                    >
                        <mat-icon>remove</mat-icon>
                    </button>
                    {{ note }}
                </p>

                <mat-form-field appearance="outline">
                    <mat-label>New note</mat-label>
                    <input
                        type="text"
                        matInput
                        formControlName="note"
                        placeholder="New note"
                    />
                </mat-form-field>
                <button
                    type="button"
                    class="field-submit"
                    color="primary"
                    mat-flat-button
                    (click)="addNote()"
                >
                    Submit
                </button>

                <mat-divider></mat-divider>
                <mat-list-item>Photos:</mat-list-item>
                <div
                    fxLayout="row"
                    fxLayoutAlign="start center"
                    class="img-container"
                    *ngFor="let photo of contact.photos"
                >
                    <button
                        mat-icon-button
                        (click)="deletePhoto(photo.id)"
                    >
                        <mat-icon>delete</mat-icon>
                    </button>
                    <img class="photo" [src]="photo.image" />
                </div>

                <mat-form-field appearance="outline">
                    <ngx-mat-file-input formControlName="photo">
                    </ngx-mat-file-input>
                    <mat-hint>Add photo</mat-hint>
                </mat-form-field>

                <button
                    type="button"
                    class="field-submit"
                    color="primary"
                    mat-flat-button
                    (click)="addPhoto()"
                >
                    Submit
                </button>
            </mat-list>
        </mat-card-content>

        <mat-card-actions>
            <button
                type="button"
                (click)="deleteContact()"
                class="action-button"
                mat-flat-button
                color="warn"
            >
                Delete contact
            </button>
        </mat-card-actions>
    </mat-card>
</form>

<app-fab
    class="sticky-right-fab"
    routerLink=""
    aria-label="Go home"
    icon="home"
></app-fab>
